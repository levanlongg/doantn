<div class="container">
    <div class="dashboard-page">
        <app-menu></app-menu>
        <section class="wrapper scrollable">
            <nav class="user-menu">
                <a href="javascript:;" class="main-menu-access">
                    <i class="icon-proton-logo"></i>
                    <i class="icon-reorder"></i>
                </a>
            </nav>
            <section class="title-bar">
                <div class="logo">
                    <h1><a href="index.html"><img src="../assets/Admin/images/logo.png" alt="" />Colored</a></h1>
                </div>
                <div class="full-screen">
                    <section class="full-top">
                        <button id="toggle"><i class="fa fa-arrows-alt" aria-hidden="true"></i></button>
                    </section>
                </div>
                <div class="w3l_search">
                    <form action="#" method="post">
                        <input type="text" [(ngModel)]="keyword" name="keyword" placeholder="Search">
                        <button (click)="Search()" class="btn btn-default"><i class="fa fa-search"
                                aria-hidden="true"></i></button>
                    </form>
                </div>
                <div class="header-right">
                    <div class="profile_details_left">
                        <div class="header-right-left">
                            <!--notifications of menu start -->
                            <ul class="nofitications-dropdown">
                                <li class="dropdown head-dpdn">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i
                                            class="fa fa-envelope"></i><span class="badge">3</span></a>
                                    <ul class="dropdown-menu anti-dropdown-menu w3l-msg">
                                        <li>
                                            <div class="notification_header">
                                                <h3>You have 3 new messages</h3>
                                            </div>
                                        </li>
                                        <li><a href="#">
                                                <div class="user_img"><img src="../assets/Admin/images/1.png" alt="">
                                                </div>
                                                <div class="notification_desc">
                                                    <p>Lorem ipsum dolor amet</p>
                                                    <p><span>1 hour ago</span></p>
                                                </div>
                                                <div class="clearfix"></div>
                                            </a></li>
                                        <li class="odd"><a href="#">
                                                <div class="user_img"><img src="../assets/Admin/images/2.png" alt="">
                                                </div>
                                                <div class="notification_desc">
                                                    <p>Lorem ipsum dolor amet </p>
                                                    <p><span>1 hour ago</span></p>
                                                </div>
                                                <div class="clearfix"></div>
                                            </a></li>
                                        <li><a href="#">
                                                <div class="user_img"><img src="../assets/Admin/images/3.png" alt="">
                                                </div>
                                                <div class="notification_desc">
                                                    <p>Lorem ipsum dolor amet </p>
                                                    <p><span>1 hour ago</span></p>
                                                </div>
                                                <div class="clearfix"></div>
                                            </a></li>
                                        <li>
                                            <div class="notification_bottom">
                                                <a href="#">See all messages</a>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                <li class="dropdown head-dpdn">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i
                                            class="fa fa-bell"></i><span class="badge blue">3</span></a>
                                    <ul class="dropdown-menu anti-dropdown-menu agile-notification">
                                        <li>
                                            <div class="notification_header">
                                                <h3>You have 3 new notifications</h3>
                                            </div>
                                        </li>
                                        <li><a href="#">
                                                <div class="user_img"><img src="../assets/Admin/images/2.png" alt="">
                                                </div>
                                                <div class="notification_desc">
                                                    <p>Lorem ipsum dolor amet</p>
                                                    <p><span>1 hour ago</span></p>
                                                </div>
                                                <div class="clearfix"></div>
                                            </a></li>
                                        <li class="odd"><a href="#">
                                                <div class="user_img"><img src="../assets/Admin/images/1.png" alt="">
                                                </div>
                                                <div class="notification_desc">
                                                    <p>Lorem ipsum dolor amet </p>
                                                    <p><span>1 hour ago</span></p>
                                                </div>
                                                <div class="clearfix"></div>
                                            </a></li>
                                        <li><a href="#">
                                                <div class="user_img"><img src="../assets/Admin/images/3.png" alt="">
                                                </div>
                                                <div class="notification_desc">
                                                    <p>Lorem ipsum dolor amet </p>
                                                    <p><span>1 hour ago</span></p>
                                                </div>
                                                <div class="clearfix"></div>
                                            </a></li>
                                        <li>
                                            <div class="notification_bottom">
                                                <a href="#">See all notifications</a>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                <li class="dropdown head-dpdn">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i
                                            class="fa fa-tasks"></i><span class="badge blue1">15</span></a>
                                    <ul class="dropdown-menu anti-dropdown-menu agile-task">
                                        <li>
                                            <div class="notification_header">
                                                <h3>You have 8 pending tasks</h3>
                                            </div>
                                        </li>
                                        <li><a href="#">
                                                <div class="task-info">
                                                    <span class="task-desc">Database update</span><span
                                                        class="percentage">40%</span>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="progress progress-striped active">
                                                    <div class="bar yellow" style="width:40%;"></div>
                                                </div>
                                            </a></li>
                                        <li><a href="#">
                                                <div class="task-info">
                                                    <span class="task-desc">Dashboard done</span><span
                                                        class="percentage">90%</span>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="progress progress-striped active">
                                                    <div class="bar green" style="width:90%;"></div>
                                                </div>
                                            </a></li>
                                        <li><a href="#">
                                                <div class="task-info">
                                                    <span class="task-desc">Mobile App</span><span
                                                        class="percentage">33%</span>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="progress progress-striped active">
                                                    <div class="bar red" style="width: 33%;"></div>
                                                </div>
                                            </a></li>
                                        <li><a href="#">
                                                <div class="task-info">
                                                    <span class="task-desc">Issues fixed</span><span
                                                        class="percentage">80%</span>
                                                    <div class="clearfix"></div>
                                                </div>
                                                <div class="progress progress-striped active">
                                                    <div class="bar  blue" style="width: 80%;"></div>
                                                </div>
                                            </a></li>
                                        <li>
                                            <div class="notification_bottom">
                                                <a href="#">See all pending tasks</a>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                                <div class="clearfix"> </div>
                            </ul>
                        </div>
                        <div class="profile_details">
                            <ul>
                                <li class="dropdown profile_details_drop">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                        <div class="profile_img">
                                            <span class="prfil-img"><i class="fa fa-user" aria-hidden="true"></i></span>
                                            <div class="clearfix"></div>
                                        </div>
                                    </a>
                                    <ul class="dropdown-menu drp-mnu">
                                        <li> <a href="#"><i class="fa fa-cog"></i> Settings</a> </li>
                                        <li> <a href="#"><i class="fa fa-user"></i> Profile</a> </li>
                                        <li> <a href="#"><i class="fa fa-sign-out"></i> Logout</a> </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="clearfix"> </div>
                    </div>
                </div>
                <div class="clearfix"> </div>
            </section>
            <div class="main-grid">
                <div class="agile-grids">
                    <!-- tables -->
                    <div class="table-heading">
                        <h2 style="color: black;">Quản lý tin tức</h2>
                    </div>
                    <div class="agile-tables">
                        <div class="w3l-table-info">
                            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#AddModal">
                                <i class="glyphicon glyphicon-plus"></i>
                            </button>
                            <table id="table">
                                <thead>
                                    <tr>
                                        <th style="text-align: center;">#</th>
                                        <th style="text-align: center;">Hình ảnh</th>
                                        <th style="text-align: center;">Tiêu đề</th>
                                        <th style="text-align: center;">Mô tả</th>
                                        <th style="text-align: center;">Tác vụ</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let item of items | paginate: { itemsPerPage: 5, currentPage: p }; let i=index;">
                                        <td style="text-align: center;">{{i+1}}</td>
                                        <td><img style="width:70px; height:70px" *ngIf="item.image" [src]="createImg(item.image)"></td>
                                        <td>{{item.title}}</td>
                                        <td>{{item.description}}</td>
                                        <td style="text-align: center;">
                                            <button style="margin-left: 1%;" type="button" class="btn btn-success"
                                                (click)="showView(item.id)"><i
                                                    class="glyphicon glyphicon-eye-open"></i></button>
                                            <button style="margin-left: 1%;" type="button" class="btn btn-success"><i
                                                    class="glyphicon glyphicon-pencil"
                                                    (click)="showEdit(item.id)"></i></button>
                                            <button style="margin-left: 1%;" type="button" class="btn btn-success"
                                                (click)="delete(item.id)"><i
                                                    class="glyphicon glyphicon-trash"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- //tables -->
            </div>
            <div class="row">
                <div class="col-md-3"></div>
                <div style="text-align: center;" class="col-md-5">
                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                </div>
                <div class="col-md-4"></div>
            </div>
            <!-- Create Modal -->
            <div class="modal fade" id="AddModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 id="dialog-sizes-name1" class="modal-title pull-left">Thêm tin mới</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" #closebutton>
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-3">
                                        <img class="img-thumbnail" id="AddEmpImage" style="width: 200px; height: 150px;"
                                            src="../assets/Admin/images/g4.jpg">
                                    </div>
                                    <div class="col-md-9">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label for="name">Hình ảnh:</label>
                                                <input type="file" id="image" class="form-control" value="" name="image"
                                                    (change)="onSelect($event)" accept='image/*' ngModel required
                                                    #image="ngModel">
                                                <div *ngIf="image.invalid && (image.dirty || image.touched)"
                                                    class="label label-danger">
                                                    Hình ảnh không được để trống
                                                </div>
                                            </div>
                                        </div><br />
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label for="name"> Loại tin:</label>
                                                <select name="new_type_id" id="new_type_id" class="form-control" ngModel
                                                    required #new_type_id="ngModel">
                                                    <option *ngFor="let method of listnewstype" [value]="method.id">
                                                        {{method.new_type_name }}</option>
                                                </select>
                                                <div *ngIf="new_type_id.invalid && (new_type_id.dirty || new_type_id.touched)"
                                                    class="label label-danger">
                                                    Loại tin không được để trống
                                                </div>
                                            </div>
                                            <div class="col-md-8">
                                                <label for="name">Tiêu đề:</label>
                                                <input type="text" class="form-control" value="" name="title" id="title"
                                                    ngModel required #title="ngModel">
                                                <div *ngIf="title.invalid && (title.dirty || title.touched)"
                                                    class="label label-danger">
                                                    Tiêu đề không được để trống
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="description">Mô tả:</label>
                                <textarea style="height:200px" class="form-control" value="" name="description"
                                    id="description" ngModel required #description="ngModel"></textarea>
                                <div *ngIf="description.invalid && (description.dirty || description.touched)"
                                    class="label label-danger">
                                    Mô tả không được để trống
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="name">Nội dung:</label>
                                <textarea style="height:300px" class="form-control" value="" name="content" id="content"
                                    ngModel required #content="ngModel"></textarea>
                                <div *ngIf="content.invalid && (content.dirty || content.touched)"
                                    class="label label-danger">
                                    Nội dung không được để trống
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-success" (click)="add()"
                                id="closeModal">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Create Modal -->
            <!-- Update Modal -->
            <div bsModal #Update="bs-modal" class="modal fade" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <form #PutForm="ngForm" (ngSubmit)="UpdateForm(PutForm.value)" *ngIf="entity">
                            <div class="modal-header">
                                <h4 id="dialog-sizes-name1" class="modal-title pull-left">Cập nhật loại tin</h4>
                                <button type="button" class="close pull-right" (click)="Update.hide()"
                                    aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="name">Hình ảnh:</label>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img class="img-thumbnail" [src]="createImg(entity.image)"
                                                style="width: 200px; height: 150px;">
                                            <input type="hidden" id="image" [(ngModel)]="entity.image"
                                                class="form-control" value="" name="image" (change)="onSelect($event)"
                                                accept='image/*'>
                                        </div>
                                        <div class="col-md-9">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="name">Id</label>
                                                    <input type="hidden" [(ngModel)]="checkedid">
                                                    <input type="text" class="form-control" value="" name="id"
                                                        [(ngModel)]="entity.id" required #id="ngModel">
                                                    <div *ngIf="id.invalid && (id.dirty || id.touched)"
                                                        class="label label-danger">
                                                        Id không được để trống
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="name"> Loại tin:</label>
                                                    <select name="new_type_id" [(ngModel)]="entity.new_type_id"
                                                        class="form-control" required #new_type_id="ngModel">
                                                        <option *ngFor="let method of listnewstype" [value]="method.id">
                                                            {{method.new_type_name }}</option>
                                                    </select>
                                                    <div *ngIf="new_type_id.invalid && (new_type_id.dirty || new_type_id.touched)"
                                                        class="label label-danger">
                                                        Loại tin không được để trống
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="name">Tiêu đề:</label>
                                                    <input type="text" class="form-control" value="" name="title"
                                                        [(ngModel)]="entity.title" required #title="ngModel">
                                                    <div *ngIf="title.invalid && (title.dirty || title.touched)"
                                                        class="label label-danger">
                                                        Tiêu đề không được để trống
                                                    </div>
                                                </div>
                                            </div><br />
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="content">Thời gian thêm:</label>
                                                    <input type="datetime" class="form-control" value=""
                                                        name="created_at" [(ngModel)]="entity.created_at" required
                                                        #created_at="ngModel">
                                                    <div *ngIf="created_at.invalid && (created_at.dirty || created_at.touched)"
                                                        class="label label-danger">
                                                        Thời gian thêm không được để trống
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="content">Thời gian cập
                                                        nhật:</label>
                                                    <input type="datetime" class="form-control" value=""
                                                        name="updated_at" [(ngModel)]="entity.updated_at" required
                                                        #updated_at="ngModel">
                                                    <div *ngIf="updated_at.invalid && (updated_at.dirty || updated_at.touched)"
                                                        class="label label-danger">
                                                        Thời gian cập nhật không được để trống
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="description">Mô tả:</label>
                                    <textarea style="height:200px" class="form-control" value="" name="description"
                                        [(ngModel)]="entity.description" required #description="ngModel"></textarea>
                                    <div *ngIf="description.invalid && (description.dirty || description.touched)"
                                        class="label label-danger">
                                        Mô tả không được để trống
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="name">Nội dung:</label>
                                    <textarea style="height:300px" class="form-control" value="" name="content"
                                        [(ngModel)]="entity.content" required #content="ngModel"></textarea>
                                    <div *ngIf="content.invalid && (content.dirty || content.touched)"
                                        class="label label-danger">
                                        Nội dung không được để trống
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-success"
                                    [disabled]="!PutForm.valid">Submit</button>
                                <button type="button" class="btn btn-danger" (click)="Update.hide()">Close</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Update Modal -->
            <!-- View Modal -->
            <div bsModal #View="bs-modal" class="modal fade" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <form #ViewForm="ngForm" *ngIf="entity">
                            <div class="modal-header">
                                <h4 id="dialog-sizes-name1" class="modal-title pull-left">Xem chi tiết tin</h4>
                                <button type="button" class="close pull-right" (click)="View.hide()" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="name">Hình ảnh:</label>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <img class="img-thumbnail" [src]="createImg(entity.image)"
                                                style="width: 200px; height: 150px;">
                                            <input type="hidden" id="image" [(ngModel)]="entity.image"
                                                class="form-control" value="" name="image" (change)="onSelect($event)"
                                                accept='image/*'>
                                        </div>
                                        <div class="col-md-9">
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label for="name">Id</label>
                                                    <input type="hidden" [(ngModel)]="checkedid">
                                                    <input type="text" class="form-control" value="" name="id"
                                                        [(ngModel)]="entity.id" required #id="ngModel">
                                                    <div *ngIf="id.invalid && (id.dirty || id.touched)"
                                                        class="label label-danger">
                                                        Id không được để trống
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="name"> Loại tin:</label>
                                                    <select name="new_type_id" [(ngModel)]="entity.new_type_id"
                                                        class="form-control" required #new_type_id="ngModel">
                                                        <option *ngFor="let method of listnewstype" [value]="method.id">
                                                            {{method.new_type_name }}</option>
                                                    </select>
                                                    <div *ngIf="new_type_id.invalid && (new_type_id.dirty || new_type_id.touched)"
                                                        class="label label-danger">
                                                        Loại tin không được để trống
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="name">Tiêu đề:</label>
                                                    <input type="text" class="form-control" value="" name="title"
                                                        [(ngModel)]="entity.title" required #title="ngModel">
                                                    <div *ngIf="title.invalid && (title.dirty || title.touched)"
                                                        class="label label-danger">
                                                        Tiêu đề không được để trống
                                                    </div>
                                                </div>
                                            </div><br />
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label for="content">Thời gian thêm:</label>
                                                    <input type="datetime" class="form-control" value=""
                                                        name="created_at" [(ngModel)]="entity.created_at" required
                                                        #created_at="ngModel">
                                                    <div *ngIf="created_at.invalid && (created_at.dirty || created_at.touched)"
                                                        class="label label-danger">
                                                        Thời gian thêm không được để trống
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <label for="content">Thời gian cập
                                                        nhật:</label>
                                                    <input type="datetime" class="form-control" value=""
                                                        name="updated_at" [(ngModel)]="entity.updated_at" required
                                                        #updated_at="ngModel">
                                                    <div *ngIf="updated_at.invalid && (updated_at.dirty || updated_at.touched)"
                                                        class="label label-danger">
                                                        Thời gian cập nhật không được để trống
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="description">Mô tả:</label>
                                    <textarea style="height:200px" class="form-control" value="" name="description"
                                        [(ngModel)]="entity.description" required #description="ngModel"></textarea>
                                    <div *ngIf="description.invalid && (description.dirty || description.touched)"
                                        class="label label-danger">
                                        Mô tả không được để trống
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="name">Nội dung:</label>
                                    <textarea style="height:300px" class="form-control" value="" name="content"
                                        [(ngModel)]="entity.content" required #content="ngModel"></textarea>
                                    <div *ngIf="content.invalid && (content.dirty || content.touched)"
                                        class="label label-danger">
                                        Nội dung không được để trống
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" (click)="View.hide()">Close</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- View Modal -->
            <app-footer></app-footer>
        </section>
    </div>
</div>
<!-- Model -->